<template>
  <div class="modal-overlay" @click.self="$emit('close')">
    <div class="modal-content rules-modal">
      <button @click="$emit('close')" class="modal-close">√ó</button>
      
      <h2 class="modal-title">üé≠ –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã "–ù–µ—Ç–∏–ø–∏—á–Ω–∞—è –ú–∞—Ñ–∏—è"</h2>
      
      <div class="rules-content">
        <section class="rule-section intro-section">
          <div class="game-intro">
            <p class="intro-text">
              <strong>–ù–µ—Ç–∏–ø–∏—á–Ω–∞—è –ú–∞—Ñ–∏—è</strong> ‚Äî —ç—Ç–æ —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞ –Ω–∞ –¥–µ–¥—É–∫—Ü–∏—é, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω–æ–π –∏–≥—Ä–µ 
              <em>"One Night Ultimate Werewolf"</em>. –ö–∞–∂–¥–∞—è –∏–≥—Ä–∞ –¥–ª–∏—Ç—Å—è –≤—Å–µ–≥–æ –æ–¥–Ω—É –Ω–æ—á—å –∏ –æ–¥–∏–Ω –¥–µ–Ω—å, 
              –Ω–æ –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è –≤–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Ä–∞—Å–∫—Ä—ã—Ç—å —Ç–∞–π–Ω—ã, –æ–±–º–∞–Ω—É—Ç—å –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–æ–≤ –∏–ª–∏ –≤—ã–∂–∏—Ç—å –ª—é–±–æ–π —Ü–µ–Ω–æ–π!
            </p>
          </div>
        </section>

        <section class="rule-section">
          <h3>üéØ –¶–µ–ª–∏ –∫–æ–º–∞–Ω–¥</h3>
          <div class="teams-goals">
            <div class="goal-item village">
              <div class="goal-icon">üèòÔ∏è</div>
              <div class="goal-content">
                <strong>–î–µ—Ä–µ–≤–Ω—è</strong>
                <p>–ù–∞–π—Ç–∏ –∏ –∏—Å–∫–ª—é—á–∏—Ç—å <strong>—Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –æ–±–æ—Ä–æ—Ç–Ω—è</strong> –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ–º. –ï—Å–ª–∏ —ç—Ç–æ —É–¥–∞—Å—Ç—Å—è ‚Äî –¥–µ—Ä–µ–≤–Ω—è –ø–æ–±–µ–∂–¥–∞–µ—Ç!</p>
              </div>
            </div>
            <div class="goal-item werewolf">
              <div class="goal-icon">üê∫</div>
              <div class="goal-content">
                <strong>–û–±–æ—Ä–æ—Ç–Ω–∏</strong>
                <p>–û—Å—Ç–∞—Ç—å—Å—è –≤ –∂–∏–≤—ã—Ö –∏ –Ω–µ –±—ã—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã–º–∏. –ï—Å–ª–∏ –Ω–∏ –æ–¥–∏–Ω –æ–±–æ—Ä–æ—Ç–µ–Ω—å –Ω–µ –±—É–¥–µ—Ç —É–±–∏—Ç ‚Äî –æ–±–æ—Ä–æ—Ç–Ω–∏ –ø–æ–±–µ–∂–¥–∞—é—Ç!</p>
              </div>
            </div>
            <div class="goal-item tanner">
              <div class="goal-icon">üòî</div>
              <div class="goal-content">
                <strong>–ù–µ—É–¥–∞—á–Ω–∏–∫</strong>
                <p>–ë—ã—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã–º –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ–º. –ï—Å–ª–∏ –Ω–µ—É–¥–∞—á–Ω–∏–∫–∞ —É–±—å—é—Ç ‚Äî –æ–Ω –ø–æ–±–µ–∂–¥–∞–µ—Ç, –∞ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—é—Ç!</p>
              </div>
            </div>
          </div>
        </section>
        
        <section class="rule-section">
          <h3>‚è∞ –§–∞–∑—ã –∏–≥—Ä—ã</h3>
          <div class="phases-timeline">
            <div class="phase-item setup">
              <div class="phase-header">
                <span class="phase-icon">‚öôÔ∏è</span>
                <strong>–ù–∞—Å—Ç—Ä–æ–π–∫–∞</strong>
              </div>
              <p>–í–µ–¥—É—â–∏–π –≤—ã–±–∏—Ä–∞–µ—Ç —Ä–æ–ª–∏ –¥–ª—è –∏–≥—Ä—ã. –ò–≥—Ä–æ–∫–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç {{ minPlayers }} –¥–æ {{ maxPlayers }}.</p>
            </div>
            
            <div class="phase-item introduction">
              <div class="phase-header">
                <span class="phase-icon">üëã</span>
                <strong>–ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ ({{ formatTime(phaseDurations.introduction) }})</strong>
              </div>
              <p>–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ—Å—å, —Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ –∏ –æ–±—Å—É–¥–∏—Ç–µ –ø–µ—Ä–≤—ã–µ –ø–æ–¥–æ–∑—Ä–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–æ–º—É –º–æ–∂–Ω–æ –¥–æ–≤–µ—Ä—è—Ç—å.</p>
            </div>
            
            <div class="phase-item night">
              <div class="phase-header">
                <span class="phase-icon">üåô</span>
                <strong>–ù–æ—á—å ({{ nightActionTime }} —Å–µ–∫ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ)</strong>
              </div>
              <p>–†–æ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç —Å–≤–æ–∏ –Ω–æ—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ. –û–±–æ—Ä–æ—Ç–Ω–∏ –≤—ã–±–∏—Ä–∞—é—Ç –∂–µ—Ä—Ç–≤—É, –ø—Ä–æ–≤–∏–¥—Ü—ã –ø–æ–ª—É—á–∞—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –≥—Ä–∞–±–∏—Ç–µ–ª–∏ –º–µ–Ω—è—é—Ç —Ä–æ–ª–∏.</p>
            </div>
            
            <div class="phase-item day">
              <div class="phase-header">
                <span class="phase-icon">‚òÄÔ∏è</span>
                <strong>–î–µ–Ω—å ({{ formatTime(phaseDurations.day) }})</strong>
              </div>
              <p>–û–±—Å—É–∂–¥–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–æ—á–∏. –î–µ–ª–∏—Ç–µ—Å—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ –∏ —Ä–µ—à–∞–π—Ç–µ, –∑–∞ –∫–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å.</p>
            </div>
            
            <div class="phase-item voting">
              <div class="phase-header">
                <span class="phase-icon">üó≥Ô∏è</span>
                <strong>–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ ({{ formatTime(phaseDurations.voting) }})</strong>
              </div>
              <p>–ö–∞–∂–¥—ã–π –∏–≥—Ä–æ–∫ –≤—ã–±–∏—Ä–∞–µ—Ç, –∫–æ–≥–æ –∏—Å–∫–ª—é—á–∏—Ç—å. –ú–æ–∂–Ω–æ –≤–æ–∑–¥–µ—Ä–∂–∞—Ç—å—Å—è. –ò–≥—Ä–æ–∫ —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≥–æ–ª–æ—Å–æ–≤ –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è.</p>
            </div>
          </div>
        </section>

        <section class="rule-section">
          <h3>üéÆ –ú–µ—Ö–∞–Ω–∏–∫–∞ –∏–≥—Ä—ã</h3>
          <div class="mechanics-list">
            <div class="mechanic-item">
              <div class="mechanic-icon">üé≤</div>
              <div class="mechanic-content">
                <strong>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π</strong>
                <p>–†–æ–ª–∏ —Ä–∞–∑–¥–∞—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ. –ù–∞ {{ maxPlayers }} –∏–≥—Ä–æ–∫–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ {{ maxPlayers + 3 }} —Ä–æ–ª–µ–π ‚Äî {{ centerCards }} –æ—Å—Ç–∞—é—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä–µ –∫–∞–∫ "—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã".</p>
              </div>
            </div>
            
            <div class="mechanic-item">
              <div class="mechanic-icon">üîÑ</div>
              <div class="mechanic-content">
                <strong>–°–º–µ–Ω–∞ —Ä–æ–ª–µ–π</strong>
                <p>–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–æ–ª–∏ (–ì—Ä–∞–±–∏—Ç–µ–ª—å, –°–º—É—Ç—å—è–Ω) –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å —Ä–æ–ª–∏ –º–µ—Å—Ç–∞–º–∏ –Ω–æ—á—å—é. –í–∞—à–∞ –∏–∑–Ω–∞—á–∞–ª—å–Ω–∞—è —Ä–æ–ª—å –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è!</p>
              </div>
            </div>
            
            <div class="mechanic-item">
              <div class="mechanic-icon">üí¨</div>
              <div class="mechanic-content">
                <strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–∞—Ç–∞</strong>
                <p>–ù–æ—á—å—é –≥–æ–≤–æ—Ä–∏—Ç—å –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ –æ–±–æ—Ä–æ—Ç–Ω–∏ –º–µ–∂–¥—É —Å–æ–±–æ–π. –í —Ñ–∞–∑—É –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è —á–∞—Ç –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é.</p>
              </div>
            </div>

            <div class="mechanic-item">
              <div class="mechanic-icon">üéØ</div>
              <div class="mechanic-content">
                <strong>–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ</strong>
                <p>–ü—Ä–∏ –Ω–∏—á—å–µ–π –≥–æ–ª–æ—Å–æ–≤ –Ω–∏–∫—Ç–æ –Ω–µ –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è. –ï—Å–ª–∏ –≤—Å–µ –≤–æ–∑–¥–µ—Ä–∂–∞–ª–∏—Å—å ‚Äî —Ç–æ–∂–µ –Ω–∏–∫–æ–≥–æ –Ω–µ –∏—Å–∫–ª—é—á–∞—é—Ç.</p>
              </div>
            </div>
          </div>
        </section>
        
        <section class="rule-section">
          <h3>üí¨ –ö–æ–º–∞–Ω–¥—ã —á–∞—Ç–∞</h3>
          <div class="commands-list">
            <div class="command-item">
              <code>/w [–∏–≥—Ä–æ–∫] [—Å–æ–æ–±—â–µ–Ω–∏–µ]</code>
              <span class="command-desc">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ª–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–≥—Ä–æ–∫—É</span>
            </div>
            <div class="command-item">
              <code>/w –≤–µ–¥—É—â–∏–π [—Å–æ–æ–±—â–µ–Ω–∏–µ]</code>
              <span class="command-desc">–ù–∞–ø–∏—Å–∞—Ç—å –≤–µ–¥—É—â–µ–º—É (–≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ)</span>
            </div>
            <div class="command-item">
              <code>/help</code>
              <span class="command-desc">–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥</span>
            </div>
          </div>
          <p class="commands-note">
            <strong>–í–∞–∂–Ω–æ:</strong> –í–µ–¥—É—â–∏–π –≤–∏–¥–∏—Ç –≤—Å–µ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –≤ —Å–ø–æ—Ä–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.
          </p>
        </section>

        <section class="rule-section">
          <h3>üé≠ –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–æ–ª–∏</h3>
          <div class="roles-showcase">
            <div class="role-card village">
              <div class="role-header">
                <span class="role-icon">üë§</span>
                <strong>–ñ–∏—Ç–µ–ª—å</strong>
                <span class="role-team">–î–µ—Ä–µ–≤–Ω—è</span>
              </div>
              <p>–û–±—ã—á–Ω—ã–π –∂–∏—Ç–µ–ª—å –±–µ–∑ –æ—Å–æ–±—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π. –î–æ–ª–∂–µ–Ω –Ω–∞–π—Ç–∏ –æ–±–æ—Ä–æ—Ç–Ω–µ–π –ø–æ –ø–æ–≤–µ–¥–µ–Ω–∏—é –∏ –ª–æ–≥–∏–∫–µ.</p>
            </div>
            
            <div class="role-card village">
              <div class="role-header">
                <span class="role-icon">üîÆ</span>
                <strong>–ü—Ä–æ–≤–∏–¥–µ—Ü</strong>
                <span class="role-team">–î–µ—Ä–µ–≤–Ω—è</span>
              </div>
              <p>–ù–æ—á—å—é –º–æ–∂–µ—Ç –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ–ª—å –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –ò–õ–ò –¥–≤–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã. –ü–æ–ª—É—á–∞–µ—Ç –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.</p>
            </div>
            
            <div class="role-card werewolf">
              <div class="role-header">
                <span class="role-icon">üê∫</span>
                <strong>–û–±–æ—Ä–æ—Ç–µ–Ω—å</strong>
                <span class="role-team">–û–±–æ—Ä–æ—Ç–Ω–∏</span>
              </div>
              <p>–ó–Ω–∞–µ—Ç –¥—Ä—É–≥–∏—Ö –æ–±–æ—Ä–æ—Ç–Ω–µ–π. –ù–æ—á—å—é –æ–±–æ—Ä–æ—Ç–Ω–∏ –≥–æ–ª–æ—Å—É—é—Ç –∑–∞ –∂–µ—Ä—Ç–≤—É. –î–æ–ª–∂–µ–Ω —Å–∫—Ä—ã–≤–∞—Ç—å —Å–≤–æ—é —Å—É—â–Ω–æ—Å—Ç—å.</p>
            </div>
            
            <div class="role-card village">
              <div class="role-header">
                <span class="role-icon">üîÑ</span>
                <strong>–ì—Ä–∞–±–∏—Ç–µ–ª—å</strong>
                <span class="role-team">–î–µ—Ä–µ–≤–Ω—è</span>
              </div>
              <p>–ù–æ—á—å—é –º–æ–∂–µ—Ç –ø–æ–º–µ–Ω—è—Ç—å—Å—è —Ä–æ–ª—è–º–∏ —Å –ª—é–±—ã–º –∏–≥—Ä–æ–∫–æ–º –∏ —É–∑–Ω–∞—Ç—å —Å–≤–æ—é –Ω–æ–≤—É—é —Ä–æ–ª—å.</p>
            </div>
          </div>
        </section>

        <section class="rule-section">
          <h3>üí° –°–æ–≤–µ—Ç—ã –Ω–æ–≤–∏—á–∫–∞–º</h3>
          <div class="tips-list">
            <div class="tip-item">
              <span class="tip-icon">üïµÔ∏è</span>
              <strong>–°–ª—É—à–∞–π—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ</strong> ‚Äî –∫–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–ª—é—á–æ–º –∫ —Ä–∞–∑–≥–∞–¥–∫–µ
            </div>
            <div class="tip-item">
              <span class="tip-icon">ü§î</span>
              <strong>–ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã</strong> ‚Äî —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –≤—ã—è–≤–∏—Ç—å –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è
            </div>
            <div class="tip-item">
              <span class="tip-icon">üòé</span>
              <strong>–ë–ª–µ—Ñ—É–π—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ</strong> ‚Äî –æ–ø—ã—Ç–Ω—ã–µ –∏–≥—Ä–æ–∫–∏ –±—ã—Å—Ç—Ä–æ –≤—ã—á–∏—Å–ª—è—é—Ç –æ–±–º–∞–Ω
            </div>
            <div class="tip-item">
              <span class="tip-icon">‚è±Ô∏è</span>
              <strong>–°–ª–µ–¥–∏—Ç–µ –∑–∞ –≤—Ä–µ–º–µ–Ω–µ–º</strong> ‚Äî –≤–∞–∂–Ω—ã–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è –ª—É—á—à–µ –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–∑—ã
            </div>
          </div>
        </section>
      </div>
      
    </div>
  </div>
</template>

<script setup>
import { computed } from 'vue'

defineEmits(['close'])

// –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ –∫–æ–Ω—Ñ–∏–≥–æ–≤
const PHASE_DURATIONS = {
  INTRODUCTION: 180,    // 3 –º–∏–Ω—É—Ç—ã
  NIGHT: 30,           // 30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ
  DAY: 300,            // 5 –º–∏–Ω—É—Ç
  VOTING: 20          // 20 —Å–µ–∫—É–Ω–¥
}

const LIMITS = {
  MAX_PLAYERS_PER_ROOM: 10,
  MIN_PLAYERS_TO_START: 3
}

// –í—ã—á–∏—Å–ª—è–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤
const minPlayers = LIMITS.MIN_PLAYERS_TO_START
const maxPlayers = LIMITS.MAX_PLAYERS_PER_ROOM
const nightActionTime = PHASE_DURATIONS.NIGHT
const centerCards = 3 // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ 3 —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã

const phaseDurations = {
  introduction: PHASE_DURATIONS.INTRODUCTION,
  day: PHASE_DURATIONS.DAY,
  voting: PHASE_DURATIONS.VOTING
}

// –§—É–Ω–∫—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏
const formatTime = (seconds) => {
  if (seconds >= 60) {
    const minutes = Math.floor(seconds / 60)
    const remainingSeconds = seconds % 60
    if (remainingSeconds > 0) {
      return `${minutes} –º–∏–Ω ${remainingSeconds} —Å–µ–∫`
    }
    return `${minutes} –º–∏–Ω`
  }
  return `${seconds} —Å–µ–∫`
}
</script>

<style scoped>
.modal-content.rules-modal {
  max-width: 900px;
  width: 90vw;
  max-height: 90vh;
  background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
}

.modal-title {
  margin-bottom: 24px;
  color: #fff;
  font-size: 1.75rem;
  text-align: center;
  /* background: linear-gradient(45deg, #ff6b6b, #4ecdc4); */
  /* -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text; */
  font-weight: 800;
}

.rules-content {
  max-height: 70vh;
  overflow-y: auto;
  padding: 0 4px;
}

.rules-content::-webkit-scrollbar {
  width: 6px;
}

.rules-content::-webkit-scrollbar-track {
  background: #333;
  border-radius: 3px;
}

.rules-content::-webkit-scrollbar-thumb {
  background: #666;
  border-radius: 3px;
}

.rule-section {
  margin-bottom: 32px;
}

.rule-section h3 {
  color: #4ecdc4;
  margin-bottom: 16px;
  font-size: 1.3rem;
  display: flex;
  align-items: center;
  gap: 8px;
  border-bottom: 2px solid rgba(78, 205, 196, 0.3);
  padding-bottom: 8px;
}

/* –í–≤–µ–¥–µ–Ω–∏–µ */
.intro-section {
  text-align: center;
  margin-bottom: 40px;
}

.intro-text {
  font-size: 1.1rem;
  line-height: 1.7;
  color: #e0e0e0;
  background: rgba(78, 205, 196, 0.1);
  padding: 24px;
  border-radius: 12px;
  border-left: 4px solid #4ecdc4;
}

/* –¶–µ–ª–∏ –∫–æ–º–∞–Ω–¥ */
.teams-goals {
  display: grid;
  gap: 16px;
}

.goal-item {
  display: flex;
  gap: 16px;
  padding: 20px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.05);
  border-left: 4px solid;
}

.goal-item.village { border-left-color: #4CAF50; }
.goal-item.werewolf { border-left-color: #f44336; }
.goal-item.tanner { border-left-color: #FF9800; }

.goal-icon {
  font-size: 2rem;
  display: flex;
  align-items: center;
}

.goal-content strong {
  font-size: 1.2rem;
  color: #fff;
  display: block;
  margin-bottom: 8px;
}

.goal-content p {
  color: #ddd;
  line-height: 1.6;
  margin: 0;
}

/* –§–∞–∑—ã –∏–≥—Ä—ã */
.phases-timeline {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.phase-item {
  padding: 20px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  border-left: 4px solid #4ecdc4;
  transition: all 0.3s ease;
}

.phase-item:hover {
  background: rgba(255, 255, 255, 0.08);
  transform: translateX(4px);
}

.phase-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.phase-icon {
  font-size: 1.5rem;
}

.phase-header strong {
  color: #fff;
  font-size: 1.1rem;
}

.phase-item p {
  color: #ddd;
  line-height: 1.6;
  margin: 0;
}

/* –ú–µ—Ö–∞–Ω–∏–∫–∞ –∏–≥—Ä—ã */
.mechanics-list {
  display: grid;
  gap: 16px;
}

.mechanic-item {
  display: flex;
  gap: 16px;
  padding: 20px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
}

.mechanic-icon {
  font-size: 1.8rem;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 50px;
  height: 50px;
  background: rgba(78, 205, 196, 0.2);
  border-radius: 50%;
}

.mechanic-content strong {
  color: #fff;
  display: block;
  margin-bottom: 8px;
  font-size: 1.1rem;
}

.mechanic-content p {
  color: #ddd;
  line-height: 1.6;
  margin: 0;
}

/* –ö–æ–º–∞–Ω–¥—ã —á–∞—Ç–∞ */
.commands-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.command-item {
  padding: 16px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;
  display: flex;
  align-items: center;
  gap: 16px;
  border-left: 3px solid #4ecdc4;
}

.command-item code {
  background: rgba(78, 205, 196, 0.2);
  padding: 6px 12px;
  border-radius: 6px;
  font-family: 'Courier New', monospace;
  color: #4ecdc4;
  font-weight: 600;
  font-size: 0.9rem;
  min-width: 200px;
}

.command-desc {
  color: #ddd;
  line-height: 1.5;
}

.commands-note {
  margin-top: 16px;
  padding: 12px;
  background: rgba(255, 183, 77, 0.1);
  border-radius: 8px;
  border-left: 3px solid #ffb74d;
  color: #ddd;
  line-height: 1.5;
}

/* –†–æ–ª–∏ */
.roles-showcase {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 16px;
}

.role-card {
  padding: 20px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  border-left: 4px solid;
  transition: all 0.3s ease;
}

.role-card:hover {
  background: rgba(255, 255, 255, 0.08);
  transform: translateY(-2px);
}

.role-card.village { border-left-color: #4CAF50; }
.role-card.werewolf { border-left-color: #f44336; }

.role-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
}

.role-header .role-icon {
  font-size: 1.5rem;
}

.role-header strong {
  color: #fff;
  font-size: 1.1rem;
}

.role-team {
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
}

.role-card.village .role-team {
  background: rgba(76, 175, 80, 0.2);
  color: #4CAF50;
}

.role-card.werewolf .role-team {
  background: rgba(244, 67, 54, 0.2);
  color: #f44336;
}

.role-card p {
  color: #ddd;
  line-height: 1.6;
  margin: 0;
}

/* –°–æ–≤–µ—Ç—ã */
.tips-list {
  display: grid;
  gap: 12px;
}

.tip-item {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;
  border-left: 3px solid #ffb74d;
}

.tip-icon {
  font-size: 1.5rem;
}

.tip-item strong {
  color: #fff;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
  .modal-content.rules-modal {
    width: 95vw;
    max-height: 95vh;
  }
  
  .roles-showcase {
    grid-template-columns: 1fr;
  }
  
  .goal-item,
  .mechanic-item {
    flex-direction: column;
    text-align: center;
  }
  
  .goal-icon,
  .mechanic-icon {
    align-self: center;
  }
}
</style>