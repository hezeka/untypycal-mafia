Сайт должен иметь два вида авторизации, которые переключаются в коде сервера:
1) Авторизация через телеграм
2) Указание никнейма при входе который записывается в память браузера и который можно сменить на главной странице

При подключении к комнате если у игрока нет никнейма ему предлагают его установить, если он уже есть, то во время фазы подбора он может беспрепятственно подключиться к комнате если такого никнейма нет ни у одного активного игрока. Если игрок с таким же ником отключен (например если человек зашёл с тем же ником с другого браузера или устройства), то этот игрок займёт его слот. Во время фазы игры присоединиться к игре возможно, если ты перезаходишь в комнату или обновляешь страницу (никнейм у тебя тот же).
Если к активной игре присоединяется новый человек - он может нажать кнопку "запрос" и зайти в игру в роли спектатора, если создатель комнаты нажмёт кнопку "Впустить" в чате . Он будет видеть игру от лица игрока, будет видеть весь чат, но не сможет писать, и взаимодействовать с игрой.

При создании комнаты можно выбрать один из режимов:
1) Режим ведущего-наблюдателя (роль game_master, на которую невозможно повлиять, убить, сменить ему роль), который может полностью влиять на игру: видеть все роли, переключать в любой момент фазы, накладывать на игроков действия, выгонять их, читать все сообщения чата, его нет в списке игроков на выбывание, его нельзя убить, нельзя сменить ему роль
2) Режим ведущего-игрока, который также может влиять на игру, переключать фазы, накладывать на игроков действия, выгонять, но не видит роли, не видит личные сообщения и на него тоже распределяется роль, как на обычных игроков, против него можно голосовать и можно убивать ночью

Центральные карты не обязательны для выбора создателем, игру можно запустить и без них. Все лишние выбранные роли являются центральными и должны отображаться на игровом поле рубашкой вверх если они есть.

Процесс игры:
- Фаза знакомства (единожды)
1) Фаза ночи когда все ночные роли в порядке из игры ONUW должны выполнить действие или пропустить свой ход
2) Фаза дня, когда игроки должны найти оборотня
3) Голосование, когда игроки должны проголосовать за того, кто должен быть повешен

Работа чата:
Каждый игрок должен иметь возможность писать в чат, в личные сообщения игрокам (должна быть кнопка личных сообщений рядом с каждым игроком, либо командой /ш игрок текст)
#Ночью сообщения из чата должны видеть только оборотни! Всем, кто не принадлежит этой группе сообщения приходить не должны и отправляться тоже!
Во время любой фазы любой игрок должен иметь возможность написать ведущему через кнопку ПМ или командой /ш ведущий текст

Оборотни видят всех остальных оборотней, другие игроки не видят никакие роли.

Ночь:
Ночью игроки с активными ночными ролями могут выполнить своё действие в порядке предусмотренном в игре ONUW или пропустить своё действие.
Действия ролей разделены. Например:
В игре есть страж, мистический волк, обычный оборотень, обычный оборотень 2, мирный житель
Страж > Оборотни > Мистический волк
Если все стражи (в нашем случае он один) выполнили или пропустили своё действие, следующими выполняют действие оборотни.
Сначала 2 обычных оборотня поднимают большой палец на того, кого они хотят убить, потом мистический волк выбирает своё действие (проголосовать или посмотреть карту)
На каждое действие даётся 30 секунд. Если игрок не успел выполнить действие, то его ход пропускается.
#Против кого голосуют оборотни видят только оборотни, также с остальными ролями, такими как страж, 
В конце ночи в зависимости от количества голосов оборотней и действий других ночных ролей в чат выводится одно из сообщений:
- Ночью был убит Игрок1, он был название_роли
- Ночью было совершено покушение на Игрок1, но его защитил страж
- Ночью никто не погиб
Миньон не видит ночной чат, ночью он спит, но может проголосовать за убийство и побеждает если победили оборотни. Если его убьют, то оборотни не проигрывают!
#Голосование у оборотней работает по принципу большинства. Должно быть набрано больше половины голосов оборотней. Если ситуация спорная (например 1-1 или 1-0), то никто не будет убит.

Определение победителя:
Если неудачник мертв - победа неудачника
Если хотя бы один оборотень мёртв (кроме миньона) - победа жителей
Если убиты все жители - победа оборотней

Голосование:
Игрок с ролью game_master не может проголосовать, другие игроки также не могут проголосовать против него, он не должен отображаться в списке голосов, не должен учитываться в списке игроков которые должны проголосовать
За кого игроки отдали свои голоса не должны видеть остальные игроки. Они должны видеть только свой голос и общее количество проголосовавших.
Если игрок получает ОТНОСИТЕЛЬНОЕ большинство голосов - он будет повешен, в чате отобразится сколько он набрал голосов и какая у него была роль
Если играет 5 человек, из которых 2 голоса за одного человека, 1 за другого, 1 за третьего и 1 воздержался (2-1-1-0), то первый игрок будет повешен. Если ситуация спорная, например 1-1-0-0-0 или 2-2-0, то НИКТО не будет повешен.
Игроки должны видеть результаты голосования в чате в виде "Игрок1 получил 2 голоса, Игрок2 получил 2 голоса, 1 игрок воздержался". Если игрок воздерживается, то его голос не учитывается при подсчёте большинства.